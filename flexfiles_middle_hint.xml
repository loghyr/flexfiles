<!-- Copyright (C) The IETF Trust (2014) -->
<!-- Copyright (C) The Internet Society (2014) -->

<section title="Flexible File Layout Type Creation Hint">
  <t>
    The layouthint4 type is defined in the
    <xref target="RFC5661" /> as follows:
  </t>

  <figure>
    <artwork>
struct layouthint4 {
    layouttype4           loh_type;
    opaque                loh_body&lt;&gt;;
};
    </artwork>
  </figure>

  <t>
    The layouthint4 structure is used by the client to pass a hint
    about the type of layout it would like created for a particular
    file.  If the loh_type layout type is LAYOUT4_FLEX_FILES, then
    the loh_body opaque value is defined by the ff_layouthint
    type.
  </t>

  <section anchor="ff_layouthint" title="ff_layouthint">
    <figure>
      <artwork>
/// union ff_max_comps_hint switch (bool ffmx_valid) {
///     case TRUE:
///         uint32_t             ffmx_max_comps;
///     case FALSE:
///         void;
/// };
///
/// union ff_stripe_unit_hint switch (bool ffsu_valid) {
///     case TRUE:
///         length4              ffsu_stripe_unit;
///     case FALSE:
///         void;
/// };
///
/// union ff_mirror_cnt_hint switch (bool ffmc_valid) {
///     case TRUE:
///         uint32_t             ffomc_mirror_cnt;
///     case FALSE:
///         void;
/// };
///
/// union ff_striping_pattern_hint switch (bool ffsp_valid) {
///     case TRUE:
///         ff_striping_pattern  ffsp_striping_pattern;
///     case FALSE:
///         void;
/// };
///
/// struct ff_layouthint {
///     ff_max_comps_hint         fflh_max_comps_hint;
///     ff_stripe_unit_hint       fflh_stripe_unit_hint;
///     ff_mirror_cnt_hint        fflh_mirror_cnt_hint;
///     ff_striping_pattern_hint  fflh_striping_pattern_hint;
/// };
///
      </artwork>
    </figure>

    <t>
      This type conveys hints for the desired data map.  All parameters
      are optional so the client can give values for only the parameters
      it cares about, e.g., it can provide a hint for the desired number
      of mirrored components, regardless of the striping pattern selected
      for the file.  The server should make an attempt to honor the hints,
      but it can ignore any or all of them at its own discretion and
      without failing the respective CREATE operation.
    </t>
  </section>
</section>
